<!DOCTYPE html>
<html>
<head>
<style>
table, th, td {
  border: 1px solid black;
}
</style>
<script type = "text/javascript" 
src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
</script>
</head>
<body>
<div id="demo"></div>

<table>
  <tbody>
    <tr style="background-color:red">
      <td>Book1</td>
      <td>2018-2-01</td>
      <td>2018-2-15</td>
    </tr>
    <tr>
      <td>Book2</td>
      <td>2018-2-01</td>
      <td>2018-2-15</td>
    </tr>
    <tr style="background-color:red">
      <td>Book3</td>
      <td>2018-2-01</td>
      <td>2018-2-15</td>
    </tr>
    <tr>
      <td>Book4</td>
      <td>2018-2-01</td>
      <td>2018-2-15</td>
    </tr>
    <tr style="background-color:red">
      <td>Book5</td>
      <td>2018-12-01</td>
      <td>2018-12-15</td>
    </tr>
    <tr style="background-color:red">
        <td>Book5</td>
        <td>2018-12-01</td>
        <td>2018-12-15</td>
      </tr>
      <tr style="background-color:red">
        <td>Book5</td>
        <td>2018-12-01</td>
      </tr>
      <tr style="background-color:red">
        <td>Book5</td>
        <td>2018-12-01</td>
        <td>2018-12-16</td>
      </tr>
      <tr>
        <td>Book5</td>
        <td>2018-12-01</td>
        <td>2018-12-17</td>
      </tr>
 </tbody>
</table>

<script>
    var count = 0;
    var D = '2018-12-30';
    var T = 14;
	var tableRows = $("table > tbody > tr");
    tableRows.each(function(item){
        var date1 = $($(tableRows[item]).find('td')[1]).text();
        var dateOne = new Date(date1);
        var date2 = $($(tableRows[item]).find('td')[2]).text();
        var dateTwo = new Date(date2 ? date2 : D);
        var diffDate = dateTwo.getDate() - dateOne.getDate();
        var isStyled = $(tableRows[item]).attr('style');
        if(diffDate > T && !isStyled) {
        	count += 1;
        } else if(diffDate <= T && isStyled){
            count += 1;
        }
    })
    document.getElementById("demo").innerHTML = count;
</script>

</body>
</html>
